{"version":3,"sources":["js\\initCanvas.js","js\\home.js"],"names":["initCanvas","el","width","height","e","canvas","ctx","getContext","clickX","Array","clickY","clickDrag","clickX2","clickY2","clickDrag2","paint","$","on","parents","eq","find","clearRect","id","onmousedown","mouseX","pageX","getBoundingClientRect","x","mouseY","y","addClick","redraw","onmousemove","onmouseup","ontouchstart","preventDefault","touches","clientX","clientY","ontouchmove","ontouchhend","dragging","push","strokeStyle","lineJoin","lineWidth","i","length","beginPath","moveTo","lineTo","closePath","stroke","require","default","home","Vue","data","wordData","hira","kata","audio","hiraStrokeOrder","kataStrokeOrder","wordSource","kataWordSource","methods","playAudio","Audio","play","search","currentTarget","val","trim","console","log","border","String","test","v","indexOf","Number","z","slice","showDialog","$nextTick","offsetWidth","offsetHeight"],"mappings":"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","file":"home.b4acc3f5.map","sourceRoot":"..\\src","sourcesContent":["export default function initCanvas(el, width, height, e) {\r\n    var canvas = el;\r\n    var ctx = canvas.getContext(\"2d\");\r\n    var clickX = new Array();\r\n    var clickY = new Array();\r\n    var clickDrag = new Array();\r\n    var clickX2 = new Array();\r\n    var clickY2 = new Array();\r\n    var clickDrag2 = new Array();\r\n    var paint;\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    $('.clear-canvas').on('click', function (e) {\r\n        let el = $(this).parents('.mdui-row').eq(0).find('canvas')[0]\r\n        el.getContext(\"2d\").clearRect(0,0,canvas.width,canvas.height);\r\n        if(el.id=='pad'){\r\n            clickX = new Array();\r\n            clickY = new Array();\r\n            clickDrag = new Array();\r\n        }else if(el.id=='pad2'){\r\n            clickX2 = new Array();\r\n            clickY2 = new Array();\r\n            clickDrag2 = new Array();\r\n        }\r\n    });\r\n\r\n    canvas.onmousedown = function (e) {\r\n        var mouseX = e.pageX - this.getBoundingClientRect().x;\r\n        var mouseY = e.y - this.getBoundingClientRect().y;\r\n\r\n        paint = true;\r\n        addClick(e.pageX - this.getBoundingClientRect().x, e.y - this.getBoundingClientRect().y);\r\n        redraw;\r\n    };\r\n    canvas.onmousemove = function (e) {\r\n        if (paint) {\r\n            addClick(e.pageX - this.getBoundingClientRect().x, e.y - this.getBoundingClientRect().y, true);\r\n            redraw();\r\n        }\r\n    };\r\n    canvas.onmouseup = function (e) {\r\n        paint = false;\r\n    };\r\n\r\n    canvas.ontouchstart = function (e) {\r\n        e.preventDefault();\r\n        var mouseX = e.touches[0].clientX - this.getBoundingClientRect().x;\r\n        var mouseY = e.touches[0].clientY - this.getBoundingClientRect().y;\r\n\r\n        paint = true;\r\n        addClick(e.touches[0].clientX - this.getBoundingClientRect().x, e.touches[0].clientY - this.getBoundingClientRect().y);\r\n        redraw;\r\n    }\r\n    canvas.ontouchmove = function (e) {\r\n        e.preventDefault();\r\n        if (paint) {\r\n            addClick(e.touches[0].clientX - this.getBoundingClientRect().x, e.touches[0].clientY - this.getBoundingClientRect().y, true);\r\n            redraw();\r\n        }\r\n    }\r\n    canvas.ontouchhend = (e) => {\r\n        e.preventDefault();\r\n        paint = false;\r\n    }\r\n\r\n    function addClick(x, y, dragging) {\r\n        if(canvas.id=='pad'){\r\n            clickX.push(x);\r\n            clickY.push(y);\r\n            clickDrag.push(dragging);\r\n        }else if(canvas.id=='pad2'){\r\n            clickX2.push(x);\r\n            clickY2.push(y);\r\n            clickDrag2.push(dragging);\r\n        }\r\n    }\r\n\r\n    function redraw() {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\r\n        ctx.strokeStyle = \"red\";\r\n        ctx.lineJoin = \"round\";\r\n        ctx.lineWidth = 10;\r\n\r\n        if(canvas.id=='pad'){\r\n            for (var i = 0; i < clickX.length; i++) {\r\n                ctx.beginPath();\r\n                if (clickDrag[i] && i) {\r\n                    ctx.moveTo(clickX[i - 1], clickY[i - 1]);\r\n                } else {\r\n                    ctx.moveTo(clickX[i] - 1, clickY[i]);\r\n                }\r\n                ctx.lineTo(clickX[i], clickY[i]);\r\n                ctx.closePath();\r\n                ctx.stroke();\r\n            }\r\n        }else if(canvas.id=='pad2'){\r\n            for (var i = 0; i < clickX2.length; i++) {\r\n                ctx.beginPath();\r\n                if (clickDrag2[i] && i) {\r\n                    ctx.moveTo(clickX2[i - 1], clickY2[i - 1]);\r\n                } else {\r\n                    ctx.moveTo(clickX2[i] - 1, clickY2[i]);\r\n                }\r\n                ctx.lineTo(clickX2[i], clickY2[i]);\r\n                ctx.closePath();\r\n                ctx.stroke();\r\n            }\r\n        }\r\n    }\r\n}","(function(){\r\n    const initCanvas = require('./initCanvas').default;\r\n    let home = new Vue({\r\n        el: '#home-page',\r\n        data: {\r\n            wordData: {\r\n                hira: '',\r\n                kata: '',\r\n                audio: '',\r\n                hiraStrokeOrder: '',\r\n                kataStrokeOrder: '',\r\n                wordSource: '',\r\n                kataWordSource: '',\r\n            },\r\n        },\r\n        methods: {\r\n            playAudio: function(e, x){\r\n                if(x){\r\n                    let audio = new Audio(x)\r\n                    audio.play();\r\n                    return;\r\n                }\r\n                let audio = new Audio(this.wordData.audio)\r\n                audio.play();\r\n            },\r\n            search: (e)=>{\r\n                if($(e.currentTarget).val().trim()){\r\n                    console.log('search');\r\n                }\r\n            },\r\n            border: (x)=>{\r\n                let e = String(x)\r\n                function test(v){\r\n                    if(v.indexOf(0)!=-1 || v.indexOf(1)!=-1 || v.indexOf(2)!=-1 || v.indexOf(3)!=-1 || v.indexOf(4)!=-1){\r\n                        return true;\r\n                    }else{\r\n                        return false\r\n                    }\r\n                }\r\n                if(Number(x)<10){\r\n                    return test(e) ? 'border' : 'border2';\r\n                }else{\r\n                    let z = e.slice(1);\r\n                    return test(z) ? 'border' : 'border2';\r\n                }\r\n            },\r\n            showDialog: function(e, hira, kata, audio, hiraStrokeOrder, kataStrokeOrder, wordSource, kataWordSource){\r\n                this.wordData = {\r\n                    hira:hira,\r\n                    kata: kata,\r\n                    audio: audio,\r\n                    hiraStrokeOrder: hiraStrokeOrder,\r\n                    kataStrokeOrder: kataStrokeOrder,\r\n                    wordSource: wordSource,\r\n                    kataWordSource: kataWordSource,\r\n                };\r\n                this.$nextTick((e)=>{\r\n                    initCanvas($(\"#pad\")[0], $(\"#pad\")[0].offsetWidth, $(\"#pad\")[0].offsetHeight, e);\r\n                    initCanvas($(\"#pad2\")[0], $(\"#pad2\")[0].offsetWidth, $(\"#pad2\")[0].offsetHeight, e);\r\n                })\r\n            }\r\n        }\r\n    })\r\n}())"]}